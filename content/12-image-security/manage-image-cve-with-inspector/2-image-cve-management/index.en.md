---
title : "Vulnerability Management for Containers"
weight : 22
---

::alert[Please ensure the following before proceeding with this part. 1. You are in the correct region for the tasks listed below. You can select the correct region from the region selection dropdown towards the top right of the AWS console. 2. You have completed the [environment setup](https://catalog.workshops.aws/vulnerabilitymanagement/en-US/1-environmentsetup/) steps]{header="Note"}


## Amazon Elastic Container Registry

![ecr](/static/images/image-security/manage-image-cve-with-inspector/ecr.png)

An Amazon ECR private registry hosts your container images in a highly available and scalable architecture. You can use your private registry to manage private image repositories consisting of Docker and Open Container Initiative (OCI) images and artifacts. Each AWS account is provided with a default private Amazon ECR registry. ECR provides API operations to create, monitor, and delete image repositories and set permissions that control who can access them. ECR also integrates with the Docker CLI, so that you push and pull images from your development environments to your repositories.

### Basic scanning

Basic scanning allows manual scans and scan on push of images in this registry. This is the default setting for the private registry.

1. Navigate to the [ECR repositories console](https://console.aws.amazon.com/ecr/repositories) and locate the repository you created during the environment setup steps.
2. Select the repository name (monolith-service). This will take you to the list of images pushed to the repository.
3. Review the image tagged workshop. Since you had enabled Scan on push during the repository creation, the image has been scanned and findings based on vulnerabilities has been updated.
4. Under the `Vulnerabilities` column, select details. You will be directed to the scan overview. The scan overview shows the classification of vulnerabilities detected by the scan along with a description and the software package where the vulnerability was detected. Clicking on the name of the vulnerability takes you to the vulnerability details.

![ecrvuln](/static/images/image-security/manage-image-cve-with-inspector/ecrvuln.png)

### Enhanced scanning

Enhanced scanning is a capability offered with Amazon Inspector which provides automated continuous scanning. Inspector identifies vulnerabilities in both operating system and programming language (such as Python, Java, Ruby etc.) packages in real time.

To work with enhanced scanning capability, you will need to enable Amazon Inspector.

1. Navigate to the [Amazon Inspector console](https://console.aws.amazon.com/inspector/v2/home).
2. Select **Get Started**, then select **Enable Inspector**.
3. To configure **Enhanced Scanning** with ECR, navigate to ECR console.
4. Select **Private registry** from the left navigation panel, then select **Edit** in the **Scanning configuration** section.
5. Select **Enhanced scanning** for **Scan type**.
6. You can choose to create **Continuous scanning filters** by unselecting **Continuously scan all repositories** and adding filters. For this workshop you will scan all repositories.
7. Select **Save**.
8. Head back to the Amazon Inspector console and you will see scan results on the dashboard. You will see an environment summary which includes EC2 instances and container images.
9. From the left navigation panel, select **Findings**, then select **All findings**.
10. In the Findings filter, select **Resource type** from the filter dropdown, then select **AWS ECR Container Image** and select Apply. This will list all vulnerabilities detected with the container image.
11. Select the **Title** of the finding to load the finding's details.

![inspectorvuln](/static/images/image-security/manage-image-cve-with-inspector/inspectorvuln.png)

12. You can further review the **Inspector Score** in comparison with the **Common Vulnerability Scoring System (CVSS v3)** score.

![inspectorscore](/static/images/image-security/manage-image-cve-with-inspector/inspectorscore.png)
